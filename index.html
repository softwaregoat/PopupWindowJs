<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

<div class="row">
    <div class="col-9  align-content-center">
        <iframe src="https://zoom.us/wc/join/3050873196?pwd=NEVXcXNvVWNRYWpCSEhFTmJ2Y0Z0Zz09"
                sandbox="allow-forms allow-scripts allow-same-origin allow-pointer-lock allow-popups" allow="microphone; camera"></iframe>
    </div>

    <div class="col-3 align-content-center" style="margin-bottom: auto;padding-left: 0px;">
        <div class="row" style="justify-content: center;">
            <img src="LOGO.png" alt="Logo" width="65%">
            <h5 style="font-family: Arial Bold;">Click below to select your language</h5>
        </div>
        <div class="row" style="justify-content: center;margin: 10px">
            <button class="btn btn-primary" id="english" style="width: 200px;">English Captions</button>
        </div>
        <div class="row" style="justify-content: center;margin: 10px">
            <button class="btn btn-primary" id="spanish" style="width: 200px;">Spanish</button>
        </div>
        <div class="row" style="justify-content: center;margin: 10px">
            <button class="btn btn-primary" id="italian" style="width: 200px;">Italian</button>
        </div>
        <div class="row" style="justify-content: center;margin: 10px">
            <button class="btn btn-primary" id="russian" style="width: 200px;">Russian</button>
        </div>

    </div>

</div>
<SCRIPT TYPE="text/javascript">

    // navigator.permissions.query({name:'microphone'}).then(function(result) {
    //     if (result.state == 'granted') {
    //         alert('Microphone has been granted');
    //     } else if (result.state == 'prompt') {
    //     } else if (result.state == 'denied') {
    //         alert('Microphone has been denied');
    //     }
    //     result.onchange = function() {
    //     };
    // });

    var height = window.screen.height*0.85;
    var width = window.screen.width;
    $(document).ready(function () {
        // var webaudio_tooling_obj = function () {
        //     var audioContext = new AudioContext();
        //     console.log("audio is starting up ...");
        //     var BUFF_SIZE = 16384;
        //     var audioInput = null,
        //         microphone_stream = null,
        //         gain_node = null,
        //         script_processor_node = null,
        //         script_processor_fft_node = null,
        //         analyserNode = null;
        //
        //     if (!navigator.getUserMedia)
        //         navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia ||
        //             navigator.mozGetUserMedia || navigator.msGetUserMedia;
        //
        //     if (navigator.getUserMedia){
        //
        //         navigator.getUserMedia({audio:true},
        //             function(stream) {
        //                 start_microphone(stream);
        //             },
        //             function(e) {
        //                 alert('Error capturing audio.');
        //             }
        //         );
        //
        //     } else { alert('getUserMedia not supported in this browser.'); }
        //
        //     // -&#45;&#45;
        //
        //     function show_some_data(given_typed_array, num_row_to_display, label) {
        //
        //         var size_buffer = given_typed_array.length;
        //         var index = 0;
        //         var max_index = num_row_to_display;
        //
        //         console.log("__________ " + label);
        //
        //         for (; index < max_index && index < size_buffer; index += 1) {
        //
        //             console.log(given_typed_array[index]);
        //         }
        //     }
        //
        //     function process_microphone_buffer(event) { // invoked by event loop
        //
        //         var i, N, inp, microphone_output_buffer;
        //
        //         microphone_output_buffer = event.inputBuffer.getChannelData(0); // just mono - 1 channel for now
        //
        //         // microphone_output_buffer  <&#45;&#45; this buffer contains current gulp of data size BUFF_SIZE
        //
        //         show_some_data(microphone_output_buffer, 5, "from getChannelData");
        //     }
        //
        //     function start_microphone(stream){
        //
        //         gain_node = audioContext.createGain();
        //         gain_node.connect( audioContext.destination );
        //
        //         microphone_stream = audioContext.createMediaStreamSource(stream);
        //         microphone_stream.connect(gain_node);
        //
        //         script_processor_node = audioContext.createScriptProcessor(BUFF_SIZE, 1, 1);
        //         script_processor_node.onaudioprocess = process_microphone_buffer;
        //
        //         microphone_stream.connect(script_processor_node);
        //
        //         script_processor_fft_node = audioContext.createScriptProcessor(2048, 1, 1);
        //         script_processor_fft_node.connect(gain_node);
        //
        //         analyserNode = audioContext.createAnalyser();
        //         analyserNode.smoothingTimeConstant = 0;
        //         analyserNode.fftSize = 2048;
        //         analyserNode.muted = true;
        //         microphone_stream.connect(analyserNode);
        //
        //         analyserNode.connect(script_processor_fft_node);
        //
        //         script_processor_fft_node.onaudioprocess = function() {
        //
        //             // get the average for the first channel
        //             var array = new Uint8Array(analyserNode.frequencyBinCount);
        //             analyserNode.getByteFrequencyData(array);
        //
        //             // draw the spectrogram
        //             if (microphone_stream.playbackState == microphone_stream.PLAYING_STATE) {
        //                 show_some_data(array, 5, "from fft");
        //             }
        //         };
        //     }
        //
        // }();
        $("iframe").attr("height", height + "px");
        $("iframe").attr("width", width*0.73 + "px");
        $('iframe').each(function() {
            this.contentWindow.postMessage('{"method":"setVolume", "value":0}', '*');
        });
        $('#english').click(function () {
            window.open('https://www.startmeeting.com/wall/ubiqus', 'meeting', 'width='+ width*0.25 +',height='+ height +',toolbar=0,menubar=0,location=0,status=0,scrollbars=0,resizable=1,left='+ (width*0.73 + 10) +',top=20');
        });
        $('#spanish').click(function () {
            window.open('https://www.startmeeting.com/wall/ubiqus', 'meeting', 'width='+ width*0.25 +',height='+ height +',toolbar=0,menubar=0,location=0,status=0,scrollbars=0,resizable=1,left='+ (width*0.73 + 10) +',top=20');
        });
        $('#italian').click(function () {
            window.open('https://www.startmeeting.com/wall/ubiqus', 'meeting', 'width='+ width*0.25 +',height='+ height +',toolbar=0,menubar=0,location=0,status=0,scrollbars=0,resizable=1,left='+ (width*0.73 + 10) +',top=20');
        });
        $('#russian').click(function () {
            window.open('https://www.startmeeting.com/wall/ubiqus', 'meeting', 'width='+ width*0.25 +',height='+ height +',toolbar=0,menubar=0,location=0,status=0,scrollbars=0,resizable=1,left='+ (width*0.73 + 10) +',top=20');
        });

    });



</SCRIPT>
</body>
</html>